<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>26_matrix_mul — TALM Assembly</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../assets/site.css"><link rel="stylesheet" href="../assets/hl-github.css"><link rel="stylesheet" href="../assets/fonts.css">
</head>
<body>
<header id="title-block-header">
<h1 class="title">26_matrix_mul — TALM Assembly</h1>
</header>
<h1 id="matrix_mul-talm-assembly">26_matrix_mul — TALM Assembly</h1>
<h1 id="const-z0-0">const z0, 0</h1>
<p>const n0, -1 const n1, -1 fconst n2, 1.0 fconst n3, 2.0 addi n4, n3,
2 addi n5, n1, 2 const n6, 1000003 mul n7, n4, n6 add n8, n7, n5 addi
n9, n2, 2 addi n10, n8, 2 const n11, 1000003 mul n12, n9, n11 add n13,
n12, n10 const n14, -1 fconst n15, 3.0 fconst n16, 4.0 addi n17, n16, 2
addi n18, n14, 2 const n19, 1000003 mul n20, n17, n19 add n21, n20, n18
addi n22, n15, 2 addi n23, n21, 2 const n24, 1000003 mul n25, n22, n24
add n26, n25, n23 addi n27, n26, 2 addi n28, n0, 2 const n29, 1000003
mul n30, n27, n29 add n31, n30, n28 addi n32, n13, 2 addi n33, n31, 2
const n34, 1000003 mul n35, n32, n34 add n36, n35, n33 const n37, -1
const n38, -1 fconst n39, 5.0 fconst n40, 6.0 addi n41, n40, 2 addi n42,
n38, 2 const n43, 1000003 mul n44, n41, n43 add n45, n44, n42 addi n46,
n39, 2 addi n47, n45, 2 const n48, 1000003 mul n49, n46, n48 add n50,
n49, n47 const n51, -1 fconst n52, 7.0 fconst n53, 8.0 addi n54, n53, 2
addi n55, n51, 2 const n56, 1000003 mul n57, n54, n56 add n58, n57, n55
addi n59, n52, 2 addi n60, n58, 2 const n61, 1000003 mul n62, n59, n61
add n63, n62, n60 addi n64, n63, 2 addi n65, n37, 2 const n66, 1000003
mul n67, n64, n66 add n68, n67, n65 addi n69, n50, 2 addi n70, n68, 2
const n71, 1000003 mul n72, n69, n71 add n73, n72, n70 add n74, z0, z0
add n75, z0, z0 add n76, z0, z0 const n77, 0 const n78, -1 equal n79,
n76, n78 const n80, 0 equal n81, n77, n80 band n82, n79, n81 const n83,
-1 steer s84, n82, n83 add n85, n77, n79 const n86, 0 gthan n87, n85,
n86 const n88, 1 const n89, 0 equal n90, n87, n89 band n91, n88, n90 add
n92, z0, z0 const n93, 0 const n94, -1 equal n95, n92, n94 const n96, 0
equal n97, n93, n96 band n98, n95, n97 const n99, -1 steer s100, n98,
n99 add n101, n93, n95 const n102, 0 gthan n103, n101, n102 const n104,
1 const n105, 0 equal n106, n103, n105 band n107, n104, n106 add n108,
z0, z0 add n109, z0, z0 callgroup(“cg30”,“heads”) callsnd heads[0],
n109, cg30 retsnd heads[0], z0, cg30 addi n113, n108, 2 addi n114,
heads[0], 2 const n115, 1000003 mul n116, n113, n115 add n117, n116,
n114 steer s118, n107, n117 add n119, n103, n104 const n120, 0 gthan
n121, n119, n120 ret heads, s118.w, z0 callgroup(“cg43”,“heads”) callsnd
heads[0], n76, cg43 retsnd heads[0], z0, cg43 add n126, z0, z0 const
n127, 0 const n128, -1 equal n129, n126, n128 const n130, 0 equal n131,
n127, n130 band n132, n129, n131 const n133, -1 steer s134, n132, n133
add n135, n127, n129 const n136, 0 gthan n137, n135, n136 const n138, 1
const n139, 0 equal n140, n137, n139 band n141, n138, n140 add n142, z0,
z0 add n143, z0, z0 callgroup(“cg64”,“tails”) callsnd tails[0], n143,
cg64 retsnd tails[0], z0, cg64 addi n147, n142, 2 addi n148, tails[0], 2
const n149, 1000003 mul n150, n147, n149 add n151, n150, n148 steer
s152, n141, n151 add n153, n137, n138 const n154, 0 gthan n155, n153,
n154 ret tails, s152.w, z0 callgroup(“cg77”,“tails”) callsnd tails[0],
n76, cg77 retsnd tails[0], z0, cg77 callgroup(“cg80”,“transpose”)
callsnd transpose[0], tails[0], cg80 retsnd transpose[0], z0, cg80 addi
n163, heads[0], 2 addi n164, transpose[0], 2 const n165, 1000003 mul
n166, n163, n165 add n167, n166, n164 steer s168, n91, n167 add n169,
n87, n88 const n170, 0 gthan n171, n169, n170 ret transpose, s168.w, z0
callgroup(“cg93”,“transpose”) callsnd transpose[0], n74, cg93 retsnd
transpose[0], z0, cg93 add n176, z0, z0 add n177, z0, z0 add n178, z0,
z0 const n179, 0 const n180, -1 equal n181, n178, n180 const n182, 0
equal n183, n179, n182 band n184, n181, n183 const n185, 0 steer s186,
n184, n185 add n187, n179, n181 const n188, 0 gthan n189, n187, n188
const n190, 1 const n191, 0 equal n192, n189, n191 band n193, n190, n192
const n194, 1 add n195, z0, z0 callgroup(“cg26”,“len”) callsnd len[0],
n195, cg26 retsnd len[0], z0, cg26 add n199, n194, len[0] steer s200,
n193, n199 add n201, n189, n190 const n202, 0 gthan n203, n201, n202 ret
len, s200.w, z0 callgroup(“cg35”,“len”) callsnd len[0], n177, cg35
retsnd len[0], z0, cg35 const n208, 0 add n209, z0, z0 const n210, 8 ret
p, n210, z0 callgroup(“cg42”,“p”) callsnd p[0], n208, cg42 retsnd p[0],
z0, cg42 div n215, len[0], p[0] const n216, 0 lthan n217, n215, n216
equal n218, n215, n216 add n219, n217, n218 const n220, 0 gthan n221,
n219, n220 const n222, 1 steer s223, n221, n222 steer s224, n221, n215
lthan n225, len[0], [s224.g, s223.w] equal n226, len[0], [s224.g,
s223.w] add n227, n225, n226 const n228, 0 gthan n229, n227, n228 add
n230, z0, z0 add n231, z0, z0 const n232, 0 const n233, -1 equal n234,
n231, n233 const n235, 0 equal n236, n232, n235 band n237, n234, n236
const n238, -1 steer s239, n237, n238 add n240, n232, n234 const n241, 0
gthan n242, n240, n241 const n243, 1 const n244, 0 equal n245, n242,
n244 band n246, n243, n245 add n247, z0, z0 add n248, z0, z0 add n249,
z0, z0 const n250, 0 const n251, -1 equal n252, n248, n251 const n253, 0
equal n254, n250, n253 band n255, n252, n254 const n256, -1 steer s257,
n255, n256 add n258, n250, n252 const n259, 0 gthan n260, n258, n259
const n261, 1 const n262, 0 equal n263, n260, n262 band n264, n261, n263
add n265, z0, z0 add n266, z0, z0 add n267, z0, z0 const n268, 0 const
n269, -1 equal n270, n267, n269 const n271, 0 equal n272, n268, n271
band n273, n270, n272 fconst n274, 0.0 steer s275, n273, n274 add n276,
n268, n270 const n277, 0 gthan n278, n276, n277 const n279, 1 const
n280, 0 equal n281, n278, n280 band n282, n279, n281 const n283, 0 const
n284, -1 equal n285, n266, n284 const n286, 0 equal n287, n283, n286
band n288, n285, n287 fconst n289, 0.0 steer s290, n288, n289 add n291,
n283, n285 const n292, 0 gthan n293, n291, n292 const n294, 1 const
n295, 0 equal n296, n293, n295 band n297, n294, n296 add n298, z0, z0
fconst n299, 1.0 mul n300, n298, n299 add n301, z0, z0 fconst n302, 1.0
mul n303, n301, n302 mul n304, n300, n303 add n305, z0, z0 add n306, z0,
z0 callgroup(“cg47”,“dot”) callsnd dot[0], n305, cg47 callsnd dot[1],
n306, cg47 retsnd dot[0], z0, cg47 add n311, n304, dot[0] steer s312,
n297, n311 add n313, n293, n294 const n314, 0 gthan n315, n313, n314
steer s316, n282, s290.w add n317, n278, n279 const n318, 0 gthan n319,
n317, n318 ret dot, s316.w, z0 callgroup(“cg61”,“dot”) callsnd dot[0],
n249, cg61 callsnd dot[1], n265, cg61 retsnd dot[0], z0, cg61 add n325,
z0, z0 callgroup(“cg66”,“rowTimes”) callsnd rowTimes[0], n249, cg66
callsnd rowTimes[1], n325, cg66 retsnd rowTimes[0], z0, cg66 addi n330,
dot[0], 2 addi n331, rowTimes[0], 2 const n332, 1000003 mul n333, n330,
n332 add n334, n333, n331 steer s335, n264, n334 add n336, n260, n261
const n337, 0 gthan n338, n336, n337 ret rowTimes, s335.w, z0
callgroup(“cg80”,“rowTimes”) callsnd rowTimes[0], n247, cg80 callsnd
rowTimes[1], n230, cg80 retsnd rowTimes[0], z0, cg80 add n344, z0, z0
callgroup(“cg85”,“mmult”) callsnd mmult[0], n344, cg85 callsnd mmult[1],
n230, cg85 retsnd mmult[0], z0, cg85 addi n349, rowTimes[0], 2 addi
n350, mmult[0], 2 const n351, 1000003 mul n352, n349, n351 add n353,
n352, n350 steer s354, n246, n353 add n355, n242, n243 const n356, 0
gthan n357, n355, n356 ret mmult, s354.w, z0 callgroup(“cg99”,“mmult”)
callsnd mmult[0], n177, cg99 callsnd mmult[1], n176, cg99 retsnd
mmult[0], z0, cg99 add n363, z0, z0 add n364, z0, z0 add n365, z0, z0
add n366, z0, z0 const n367, 0 lthan n368, n366, n367 equal n369, n366,
n367 add n370, n368, n369 const n371, 0 gthan n372, n370, n371 const
n373, -1 const n374, 0 const n375, -1 equal n376, n365, n375 const n377,
0 equal n378, n374, n377 band n379, n376, n378 const n380, -1 steer
s381, n379, n380 add n382, n374, n376 const n383, 0 gthan n384, n382,
n383 const n385, 1 const n386, 0 equal n387, n384, n386 band n388, n385,
n387 add n389, z0, z0 const n390, 1 sub n391, n366, n390 add n392, z0,
z0 callgroup(“cg43”,“takeN”) callsnd takeN[0], n391, cg43 callsnd
takeN[1], n392, cg43 retsnd takeN[0], z0, cg43 addi n397, n389, 2 addi
n398, takeN[0], 2 const n399, 1000003 mul n400, n397, n399 add n401,
n400, n398 steer s402, n388, n401 add n403, n384, n385 const n404, 0
gthan n405, n403, n404 steer s406, n372, n373 steer s407, n372, s381.w
ret takeN, s407.g, z0 callgroup(“cg59”,“takeN”) callsnd takeN[0], n364,
cg59 callsnd takeN[1], n363, cg59 retsnd takeN[0], z0, cg59 add n413,
z0, z0 add n414, z0, z0 const n415, 0 lthan n416, n414, n415 equal n417,
n414, n415 add n418, n416, n417 const n419, 0 gthan n420, n418, n419
const n421, 0 const n422, -1 equal n423, n413, n422 const n424, 0 equal
n425, n421, n424 band n426, n423, n425 const n427, -1 steer s428, n426,
n427 add n429, n421, n423 const n430, 0 gthan n431, n429, n430 const
n432, 1 const n433, 0 equal n434, n431, n433 band n435, n432, n434 const
n436, 1 sub n437, n414, n436 add n438, z0, z0 callgroup(“cg89”,“dropN”)
callsnd dropN[0], n437, cg89 callsnd dropN[1], n438, cg89 retsnd
dropN[0], z0, cg89 steer s443, n435, dropN[0] add n444, n431, n432 const
n445, 0 gthan n446, n444, n445 steer s447, n420, n413 steer s448, n420,
s428.w ret dropN, s448.g, z0 callgroup(“cg10”,“dropN”) callsnd dropN[0],
n364, cg10 callsnd dropN[1], n363, cg10 retsnd dropN[0], z0, cg10 addi
n454, takeN[0], 2 addi n455, dropN[0], 2 const n456, 1000003 mul n457,
n454, n456 add n458, n457, n455 ret splitAtN, n458, z0
callgroup(“cg20”,“splitAtN”) callsnd splitAtN[0], [s224.g, s223.w], cg20
callsnd splitAtN[1], n177, cg20 retsnd splitAtN[0], z0, cg20 const n464,
0 const n465, 1000003 div n466, splitAtN[0], n465 subi n467, n466, 2
const n468, 1000003 div n469, splitAtN[0], n468 mul n470, n469, n468 sub
n471, splitAtN[0], n470 subi n472, n471, 2 const n473, 1 const n474, 0
equal n475, n464, n474 band n476, n473, n475
callgroup(“cg37”,“mmultPar”) callsnd mmultPar[0], n467, cg37 callsnd
mmultPar[1], n176, cg37 retsnd mmultPar[0], z0, cg37
callgroup(“cg41”,“mmultPar”) callsnd mmultPar[0], n472, cg41 callsnd
mmultPar[1], n176, cg41 retsnd mmultPar[0], z0, cg41 add n485, z0, z0
add n486, z0, z0 const n487, 0 const n488, -1 equal n489, n486, n488
const n490, 0 equal n491, n487, n490 band n492, n489, n491 steer s493,
n492, n485 add n494, n487, n489 const n495, 0 gthan n496, n494, n495
const n497, 1 const n498, 0 equal n499, n496, n498 band n500, n497, n499
add n501, z0, z0 add n502, z0, z0 callgroup(“cg63”,“append”) callsnd
append[0], n502, cg63 callsnd append[1], n485, cg63 retsnd append[0],
z0, cg63 addi n507, n501, 2 addi n508, append[0], 2 const n509, 1000003
mul n510, n507, n509 add n511, n510, n508 steer s512, n500, n511 add
n513, n496, n497 const n514, 0 gthan n515, n513, n514 ret append,
s512.w, z0 callgroup(“cg77”,“append”) callsnd append[0], mmultPar[0],
cg77 callsnd append[1], mmultPar[0], cg77 retsnd append[0], z0, cg77
steer s521, n476, append[0] add n522, n464, n473 const n523, 0 gthan
n524, n522, n523 steer s525, n229, mmult[0] steer s526, n229, s521.w ret
mmultPar, s526.g, z0 callgroup(“cg88”,“mmultPar”) callsnd mmultPar[0],
n75, cg88 callsnd mmultPar[1], transpose[0], cg88 retsnd mmultPar[0],
z0, cg88 ret matrixMul, mmultPar[0], z0 callgroup(“cg93”,“matrixMul”)
callsnd matrixMul[0], n36, cg93 callsnd matrixMul[1], n73, cg93 retsnd
matrixMul[0], z0, cg93 ret main, matrixMul[0], z0 — TALM Assembly</p>
<script src="../assets/hl.min.js"></script><script>hljs.highlightAll();</script>
</body>
</html>
